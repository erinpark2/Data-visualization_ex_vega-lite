<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>This is an assignment3.</title><script src="https://cdn.jsdelivr.net/npm/vega@5.25.0/build/vega.min.js" integrity="sha256-na2uPt+tUPV7GRVpc+/ezQj+lGwljIvOJifkmg8f3as=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.15.0/build/vega-lite.min.js" integrity="sha256-WLAn82Ut4GptY/IJf4K/1i+R8ibAkVLFhBVkOovqCK8=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.22.2/build/vega-embed.min.js" integrity="sha256-GfFZ6w7V/y3Ws9eHVsOXZ/F1ZFroThVZraOAx3HAt6s=" crossorigin="anonymous"></script>
    
</head>
<body>
    <p>
        This is an assignment3.
    </p>
    <div id="viz"></div>
    <script>
    var vlSpec ={

  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {"url": "https://uiuc-ischool-dataviz.github.io/fall2023-acg-acu/data/building_inventory.csv"},
  "hconcat": [
    {
      "width": 400,
      "data": {
        "values": [
          {"agency name": "Department of Natural Resources", "count": 3223},
          {"agency name": "Department of Corrections", "count": 1428},
          {"agency name": "Department of Transportation", "count": 1137},
          {"agency name": "Department of Human Services", "count": 617},
          {"agency name": "University of Illinois", "count": 525},
          {"agency name": "Southern Illinois University", "count": 420},
          {"agency name": "Historic Preservation Agency", "count": 284},
          {"agency name": "Department of Military Affairs", "count": 231}
        ]
      },
      "encoding": {
        "y": {"field": "agency name", "type": "nominal", "sort": "-x"},
        "x": {"field": "count", "type": "quantitative"}
      },
      "layer": [
        {
          "mark": "bar",
          "encoding": {
            "color": {
              "field": "count",
              "type": "quantitative",
              "title": "The amount of Top 5 Agencies"
            }
          }
        },
    {
          "mark": {
            "type": "text",
            "align": "right",
            "xOffset": -4
          },
          "encoding": {
            "text": {"field": "count", "type": "quantitative"},
            "color": {
              "condition": {
                "test": {"field": "count", "gt": 10},
                "value": "white"
              },
              "value": "black"
            }
          }
        }
      ]
    },
    {
      "description": "Drag out a rectangular brush to highlight points.",
      "params": [{
        "name": "brush",
        "select": "interval"
      }],
      "mark": "point",
      "encoding": {
        "x": {"field": "Year Constructed", "type": "temporal"},
        "y": {"field": "Square Footage", "type": "quantitative"},
        "color": {
          "condition": {"param": "brush", "field": "Usage Description", "type": "ordinal", "scale": {"scheme": "tableau10"}},
          "value": "grey"
        }
      }
    }
  ]
};
      vegaEmbed("#viz", vlSpec);
    </script>
</body>
</html>
